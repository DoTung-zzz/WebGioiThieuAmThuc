@{
    ViewData["Title"] = "Home Page";
    var featuredSpecialties = ViewData["FeaturedSpecialties"] as IEnumerable<WebGioiThieuAmThuc.Models.Specialty>;
}

<div class="hero-section">
    <div class="hero-content container">
        <h1 class="display-3 fw-bold">Hương vị Tinh túy Việt Nam</h1>
        <p class="lead mb-4">Khám phá đặc sản vùng miền và những viên ngọc ẩm thực ẩn giấu.</p>
        <div class="d-flex gap-3 justify-content-center">
            <a asp-controller="Specialties" asp-action="Index" class="btn btn-primary btn-lg px-5 py-3 rounded-pill shadow">
                <i class="fas fa-utensils me-2"></i>Khám phá Ngay
            </a>
            <a asp-controller="Forum" asp-action="Index" class="btn btn-outline-light btn-lg px-5 py-3 rounded-pill">
                <i class="fas fa-comments me-2"></i>Diễn đàn
            </a>
        </div>
    </div>
</div>

<div id="featured" class="container py-5">
    <div class="text-center mb-5">
        <h2 class="fw-bold text-dark">Đặc sản Nổi bật</h2>
        <p class="text-muted">Tuyển tập những món ăn phổ biến nhất</p>
    </div>

    <div class="row g-4">
        @if (featuredSpecialties != null && featuredSpecialties.Any())
        {
            @foreach (var item in featuredSpecialties)
            {
                <div class="col-md-4">
                    <div class="card h-100 border-0 shadow-sm hover-card">
                        <div class="position-relative">
                            @if (!string.IsNullOrEmpty(item.ImageUrl))
                            {
                                <img src="@item.ImageUrl" class="card-img-top" alt="@item.Name" style="height: 250px; object-fit: cover;">
                            }
                            else
                            {
                                <img src="https://via.placeholder.com/400x250?text=No+Image" class="card-img-top" alt="No Image" style="height: 250px; object-fit: cover;">
                            }
                            <span class="badge bg-primary position-absolute top-0 end-0 m-3">@item.Region?.RegionName</span>
                        </div>
                        <div class="card-body">
                            <h5 class="card-title fw-bold">@item.Name</h5>
                            <p class="card-text text-muted small">@(string.IsNullOrEmpty(item.ShortDescription) ? "Món ăn đặc sản Việt Nam" : (item.ShortDescription.Length > 80 ? item.ShortDescription.Substring(0, 80) + "..." : item.ShortDescription))</p>
                            <div class="d-flex justify-content-between align-items-center mt-3">
                                <span class="text-warning">
                                    <i class="fas fa-star"></i> @((item.Ratings?.Any() == true ? item.Ratings.Average(r => r.Rating1 ?? 0) : 0).ToString("F1"))
                                </span>
                                <a asp-controller="Specialties" asp-action="Details" asp-route-id="@item.SpecialtyId" class="btn btn-outline-primary btn-sm rounded-pill">Xem Chi tiết</a>
                            </div>
                        </div>
                    </div>
                </div>
            }
        }
        else
        {
            <div class="col-12 text-center py-5">
                <p class="text-muted">Chưa có đặc sản nào được đăng. Hãy là người đầu tiên đăng bài!</p>
                <a asp-controller="Specialties" asp-action="Create" class="btn btn-primary">Đăng bài ngay</a>
            </div>
        }
    </div>
</div>

<div class="bg-light py-5">
    <div class="container">
        <div class="row align-items-center">
            <div class="col-md-6">
                <h2 class="fw-bold mb-4">Về Ẩm Thực Việt</h2>
                <p class="text-muted mb-4">
                    Chúng tôi tận tâm bảo tồn và phát huy di sản ẩm thực phong phú của Việt Nam. 
                    Từ những con phố nhộn nhịp của Hà Nội đến chợ nổi miền Tây sông nước, 
                    chúng tôi mang đến cho bạn những câu chuyện và hương vị làm nên nét độc đáo của ẩm thực Việt.
                </p>
                <div class="d-flex gap-3">
                    <div class="d-flex align-items-center">
                        <i class="fas fa-check-circle text-primary me-2"></i>
                        <span>Công thức Chính gốc</span>
                    </div>
                    <div class="d-flex align-items-center">


                        <i class="fas fa-check-circle text-primary me-2"></i>
                        <span>Hướng dẫn Địa phương</span>
                    </div>
                </div>
            </div>
            <div class="col-md-6 mt-4 mt-md-0">
                <img src="https://images.unsplash.com/photo-1555126634-323283e090fa?ixlib=rb-1.2.1&auto=format&fit=crop&w=1000&q=80" class="img-fluid rounded-3 shadow" alt="Vietnamese Food">
            </div>
        </div>
    </div>
</div>
